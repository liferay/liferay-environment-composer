services:
    liferay:
        environment:
            -   LIFERAY_WEB_PERIOD_SERVER_PERIOD_DISPLAY_PERIOD_NODE=true
    liferay-cluster-node:
        environment:
            -   LIFERAY_VIRTUAL_PERIOD_HOSTS_PERIOD_VALID_PERIOD_HOSTS=*
            -   LIFERAY_WEB_PERIOD_SERVER_PERIOD_DISPLAY_PERIOD_NODE=true
            -   LIFERAY_WEB_PERIOD_SERVER_PERIOD_${WEBSERVER_PROTOCOL_UPPERCASE}_PERIOD_PORT=${WEBSERVER_CONTAINER_PORT}
            -   LIFERAY_WEB_PERIOD_SERVER_PERIOD_PROTOCOL=${WEBSERVER_PROTOCOL}
    webserver:
        depends_on:
            liferay-cluster-node:
                condition: service_healthy
        environment:
            -   WEBSERVER_UPSTREAM_FILE=upstream.cluster.conf